"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.dateDiff=exports.defaultOptions=exports.roundToPrecision=exports.daysInYear=exports.dayOfYear=exports.endOfMonth=exports.divisors=void 0;var divisors={days:864e5,hours:36e5,minutes:6e4,seconds:1e3};exports.divisors=divisors;var endOfYear=function(e){return new Date(e.getFullYear()+1,0,0)},beginOfYear=function(e){return new Date(e.getFullYear(),0,0)},endOfMonth=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)};exports.endOfMonth=endOfMonth;var dayOfYear=function(e){return(e.getTime()-beginOfYear(e).getTime())/divisors.days};exports.dayOfYear=dayOfYear;var daysInYear=function(e){return(endOfYear(e).getTime()-beginOfYear(e).getTime())/divisors.days};exports.daysInYear=daysInYear;var roundToPrecision=function(e,i){return Number.parseFloat(e.toFixed(i))};exports.roundToPrecision=roundToPrecision;var defaultOptions={decimalPrecision:1,yearsSuffix:"year",yearsSuffixPlural:"years",monthsSuffix:"month",monthsSuffixPlural:"months",weeksSuffix:"week",weeksSuffixPlural:"weeks",daysSuffix:"day",daysSuffixPlural:"days",hoursSuffix:"hour",hoursSuffixPlural:"hours",minutesSuffix:"minute",minutesSuffixPlural:"minutes",secondsSuffix:"second",secondsSuffixPlural:"seconds",millisecondsSuffix:"millisecond",millisecondsSuffixPlural:"milliseconds"};exports.defaultOptions=defaultOptions;var dateDiff=function(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign({},defaultOptions,s),n=Math.floor(r.getTime()-e.getTime()),t=roundToPrecision(n/divisors.seconds,o.decimalPrecision),a=roundToPrecision(n/divisors.minutes,o.decimalPrecision),u=roundToPrecision(n/divisors.hours,o.decimalPrecision),f=roundToPrecision(n/divisors.days,o.decimalPrecision),d=roundToPrecision(f/7,o.decimalPrecision),l=function(){var i;i=12*(r.getFullYear()-e.getFullYear()),i+=r.getMonth()-e.getMonth();var s=endOfMonth(e).getDate();return i+=r.getDate()/s-e.getDate()/s,roundToPrecision(i,o.decimalPrecision)}(),c=(i=r.getFullYear()-e.getFullYear(),i+=(dayOfYear(r)-dayOfYear(e))/daysInYear(e),roundToPrecision(i,o.decimalPrecision)),x="";return x=Math.abs(c)>=1?c.toString()+" "+(1===c?o.yearsSuffix:o.yearsSuffixPlural):Math.abs(l)>=1?l.toString()+" "+(1===l?o.monthsSuffix:o.monthsSuffixPlural):Math.abs(d)>=1?d.toString()+" "+(1===d?o.weeksSuffix:o.weeksSuffixPlural):Math.abs(f)>=1?f.toString()+" "+(1===f?o.daysSuffix:o.daysSuffixPlural):Math.abs(u)>=1?u.toString()+" "+(1===u?o.hoursSuffix:o.hoursSuffixPlural):Math.abs(a)>=1?a.toString()+" "+(1===a?o.minutesSuffix:o.minutesSuffixPlural):Math.abs(t)>=1?t.toString()+" "+(1===t?o.secondsSuffix:o.secondsSuffixPlural):n.toString()+" "+(1===n?o.millisecondsSuffix:o.millisecondsSuffixPlural),{inMilliseconds:n,inSeconds:t,inMinutes:a,inHours:u,inDays:f,inWeeks:d,inMonths:l,inYears:c,formatted:x}};exports.dateDiff=dateDiff;var _default=dateDiff;exports.default=_default;