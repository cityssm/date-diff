"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.dateDiff=exports.defaultOptions=void 0;var utils=_interopRequireWildcard(require("./utils.js"));function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var i=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:i})(e)}function _interopRequireWildcard(e,i){if(!i&&e&&e.__esModule)return e;if(null===e||"object"!==_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(i);if(t&&t.has(e))return t.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(r,s,u):r[s]=e[s]}return r.default=e,t&&t.set(e,r),r}var defaultOptions={decimalPrecision:1,yearsSuffix:"year",yearsSuffixPlural:"years",monthsSuffix:"month",monthsSuffixPlural:"months",weeksSuffix:"week",weeksSuffixPlural:"weeks",daysSuffix:"day",daysSuffixPlural:"days",hoursSuffix:"hour",hoursSuffixPlural:"hours",minutesSuffix:"minute",minutesSuffixPlural:"minutes",secondsSuffix:"second",secondsSuffixPlural:"seconds",millisecondsSuffix:"millisecond",millisecondsSuffixPlural:"milliseconds"};exports.defaultOptions=defaultOptions;var dateDiff=function(e){var i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=Object.assign({},defaultOptions,r),s=Math.floor(t.getTime()-e.getTime()),u=utils.roundToPrecision(s/utils.divisors.seconds,o.decimalPrecision),n=utils.roundToPrecision(s/utils.divisors.minutes,o.decimalPrecision),f=utils.roundToPrecision(s/utils.divisors.hours,o.decimalPrecision),a=utils.roundToPrecision(s/utils.divisors.days,o.decimalPrecision),l=utils.roundToPrecision(a/7,o.decimalPrecision),d=function(){var i;i=12*(t.getFullYear()-e.getFullYear()),i+=t.getMonth()-e.getMonth();var r=utils.endOfMonth(e).getDate();return i+=t.getDate()/r-e.getDate()/r,utils.roundToPrecision(i,o.decimalPrecision)}(),c=(i=t.getFullYear()-e.getFullYear(),i+=(utils.dayOfYear(t)-utils.dayOfYear(e))/utils.daysInYear(e),utils.roundToPrecision(i,o.decimalPrecision)),S="";return S=Math.abs(c)>=1?c.toString()+" "+(1===c?o.yearsSuffix:o.yearsSuffixPlural):Math.abs(d)>=1?d.toString()+" "+(1===d?o.monthsSuffix:o.monthsSuffixPlural):Math.abs(l)>=1?l.toString()+" "+(1===l?o.weeksSuffix:o.weeksSuffixPlural):Math.abs(a)>=1?a.toString()+" "+(1===a?o.daysSuffix:o.daysSuffixPlural):Math.abs(f)>=1?f.toString()+" "+(1===f?o.hoursSuffix:o.hoursSuffixPlural):Math.abs(n)>=1?n.toString()+" "+(1===n?o.minutesSuffix:o.minutesSuffixPlural):Math.abs(u)>=1?u.toString()+" "+(1===u?o.secondsSuffix:o.secondsSuffixPlural):s.toString()+" "+(1===s?o.millisecondsSuffix:o.millisecondsSuffixPlural),{inMilliseconds:s,inSeconds:u,inMinutes:n,inHours:f,inDays:a,inWeeks:l,inMonths:d,inYears:c,formatted:S}};exports.dateDiff=dateDiff;var _default=dateDiff;exports.default=_default;